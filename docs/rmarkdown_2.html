<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Websites with R Markdown</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Hack Your Data Beautiful</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="/">
    <span class="fa fa-home"></span>
     
    psyTeachR
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Monday
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="rmarkdown_1.html">Intro to R Markdown</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tuesday
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="rmarkdown_2.html">R Markdown Websites</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Wednesday
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Your data and Viualizations</li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="r_instructions.html">Installing R</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Websites with R Markdown</h1>

</div>


<div id="aim-of-this-session" class="section level1">
<h1>Aim of this Session</h1>
<p><img src="img/rmarkdown.png" align="right" width=150 style="margin:0px 20px"></img></p>
<p>In this session we are going to be building on our skills with R Markdown to show how you can make a clean and professional looking website by using the R Markdown skills that we have been working with. This session is a starter- not a comprehensive guide- but aims to give you some of the resources you need to continue moving forward on your own after you leave us.</p>
<p>When you come to play in R Markdown, you might want to consult the <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjyl4C73bjhAhUztXEKHdaVBPsQFjAAegQIARAC&amp;url=https%3A%2F%2Fwww.rstudio.com%2Fwp-content%2Fuploads%2F2015%2F02%2Frmarkdown-cheatsheet.pdf&amp;usg=AOvVaw0EdaMWRMevvsxYfQzsnSR4">R Markdown Cheatsheet</a>. It is an extremely useful quick reference guide.</p>
</div>
<div id="setting-up" class="section level1">
<h1>Setting Up</h1>
<p>We’ll need to do a few things before we can get started with the creation of our website. If you want to refer back to the slides at any point you can find them <a href="files/RMarkdown_2.pdf">here</a>.</p>
<div id="folders" class="section level2">
<h2>Folders</h2>
<p>Create a new folder somewhere and give it and give it an appropriate name. This is where we will be saving all of our files. If you want to use images or other media not hosted elsewhere on the web then you might want to create another folder for those. Give it a sensible name, like <code>images</code> or <code>media</code>.</p>
</div>
</div>
<div id="create-the-yaml-file-for-the-site" class="section level1">
<h1>Create the YAML file for the site</h1>
<p>Just like your R Markdown documents, your website needs configuration information. We do this by creating a text file in R. Copy and paste the following text into it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">name<span class="op">:</span><span class="st"> &quot;mywebpage&quot;</span>  
author<span class="op">:</span><span class="st"> &quot;YOUR NAME&quot;</span>  
output_dir<span class="op">:</span><span class="st"> &quot;docs&quot;</span>  
output<span class="op">:</span><span class="st">  </span>
<span class="st">  </span>html_document<span class="op">:</span><span class="st">  </span>
<span class="st">    </span>self_contained<span class="op">:</span><span class="st"> </span>no  
    theme<span class="op">:</span><span class="st"> </span>flatly  
navbar<span class="op">:</span><span class="st">  </span>
<span class="st">  </span>title<span class="op">:</span><span class="st"> &quot;My First Webpage&quot;</span> </code></pre></div>
<p>Save it in the folder that you created before, and save it as <code>_site.yml</code>, this name is non-negotiable. Keep the file open.</p>
<div id="index-page" class="section level2">
<h2>Index page</h2>
<p>Open a new R Markdown file. This will be the front page of our website. Delete all of the text from the new file and insert:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">---</span>
title<span class="op">:</span><span class="st"> &quot;My Website Name&quot;</span>
<span class="op">---</span></code></pre></div>
<p>Save the file in the folder you made as <code>index.Rmd</code>. Again, the website needs this name to be this exact text.</p>
</div>
</div>
<div id="adding-content" class="section level1">
<h1>Adding content</h1>
<p>Now that we have a (single page) website, we can see how it looks. Ensure that both <code>index.Rmd</code> and <code>_site.yml</code> are saved. Type the following into the console and run it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rmarkdown<span class="op">::</span><span class="kw">render_site</span>()</code></pre></div>
<p>This code renders the website in its current form. For each .Rmd file you have as part of your website, it will create a corresponding <code>.html</code> file. As we currently only have <code>index.Rmd</code> we will only create <code>index.html</code>. As we add more pages we will get more HTML documents when we render the site.</p>
<p>It does this in a file called “docs” in your original folder that will contain the website. Navigate to it and double click it to have a look. It is barren, but we will get to adding content now.</p>
<p>You should check what your website looks like regularly. A large part of coding is changing things and seeing what happens.</p>
<p>Why not take this opportunity to change the part in the <code>index.Rmd</code> file after <code>title:</code>, re-render the site and see what changes?</p>
<div id="text-and-headings" class="section level2">
<h2>Text and Headings</h2>
<p>We are working with an R Markdown document, so the R Markdown syntax that we were working with before is still perfectly valid. We can use the all of the same text formatting as we did before.</p>
</div>
<div id="hyperlinks" class="section level2">
<h2>Hyperlinks</h2>
<p>We can use the same R Markdown code for hyperlinks too:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">[Text That will be the link](URL of the site you want to link to)</code></pre></div>
<p>You can also use the HTML code if you prefer:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&lt;</span>a href=<span class="st">&quot;URL of the site you want to link to&quot;</span><span class="op">&gt;</span>Text that will be the link<span class="op">&lt;</span><span class="er">/</span>a<span class="op">&gt;</span></code></pre></div>
</div>
<div id="images" class="section level2">
<h2>Images</h2>
<p>If you want to include an image you need to know where that image is. This “location” can be either a web address, or if your image is not hosted online, the location within your files system. This is why I asked you to make an extra folder for them at the beginning.</p>
<p>Again, there are two ways that you can embed images.</p>
<p>The R Markdown way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">!</span>[Explanatory Text](path<span class="op">/</span>to<span class="op">/</span>image.jpg)</code></pre></div>
<p>The HTML way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&lt;</span>img src=<span class="st">&quot;path/to/image.jpg&quot;</span><span class="op">&gt;</span><span class="er">&lt;/</span>img<span class="op">&gt;</span></code></pre></div>
<p>I have gotten used to doing it the HTML way, because within the <code>img</code> tag you can make adjustments to size, alignment, margins around the image and such.</p>
</div>
</div>
<div id="changing-the-look" class="section level1">
<h1>Changing the Look</h1>
<p>For this section we are going to be editing the <code>_site.yml</code> file.</p>
<div id="the-title" class="section level2">
<h2>The Title</h2>
<p>Under the section <code>navbar</code> there is another options for <code>title</code>. Delete the first part that says “My First Webpage” and replace it with your name surrounded by quotation marks.</p>
</div>
<div id="themes" class="section level2">
<h2>Themes</h2>
<p>The colour scheme that we are currently using can be seen under the <code>theme</code> section of the <code>_site.yml</code> file (shown below). There are others built in:</p>
<ul>
<li><code>default</code></li>
<li><code>cerulean</code></li>
<li><code>journal</code></li>
<li><code>flatly</code></li>
<li><code>readable</code></li>
<li><code>spacelab</code></li>
<li><code>united</code></li>
<li><code>cosmo</code></li>
<li><code>lumen</code></li>
<li><code>paper</code></li>
<li><code>sandstone</code></li>
<li><code>simplex</code></li>
<li><code>yeti</code></li>
</ul>
<p>Themes also include changes to fonts, text size etc. You might want to consider aspects such as readability of text when you are choosing a theme.</p>
<p>You don’t have to settle with these options if you don’t want to, but you would need to learn a little bit of CSS to create your own theme. CSS (cascading style sheets) are used to apply the same formatting across the whole site. You would write a CSS file in a text file (as you did with the <code>_site.yml</code> file), but this time save is as a file with the extension <code>.css</code> in the same folder as your webpage.</p>
<p>You would then call this file in the <code>_site.yml</code> file as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  html_document<span class="op">:</span><span class="st">  </span>
<span class="st">    </span>self_contained<span class="op">:</span><span class="st"> </span>no  
    theme<span class="op">:</span><span class="st"> </span>flatly  <span class="co"># if you just want to use a standard theme</span>
    css<span class="op">:</span><span class="st"> </span>style.css <span class="co"># this is the addition to the code, citing the CSS file I want to use</span></code></pre></div>
<p>There are many places online to learn more about CSS. <a href="https://www.codecademy.com/catalog/language/html-css">Codeacademy</a> and <a href="https://www.w3schools.com/css/">W3Schools</a> are two good starting points if you want to learn some more.</p>
</div>
<div id="navigation" class="section level2">
<h2>Navigation</h2>
<p>Some pages can be really long (like this one), and forcing users to scroll up and down continuously is not good web design. We can add a table of contents to our pages to help avoid frustration.</p>
<p>Just like we did in the previous session with R Markdown, we can add a table of contents by adding to the configuration info. Changing the <code>_site.yml</code> file again to:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">output<span class="op">:</span><span class="st">  </span>
<span class="st">  </span>html_document<span class="op">:</span><span class="st">  </span>
<span class="st">    </span>self_contained<span class="op">:</span><span class="st"> </span>no  
    theme<span class="op">:</span><span class="st"> </span>flatly  
    toc<span class="op">:</span><span class="st"> </span>true <span class="co"># adds a table of contents</span></code></pre></div>
</div>
<div id="adding-more-pages" class="section level2">
<h2>Adding More Pages</h2>
<p>You can make more pages, in the same way that you created <code>index.Rmd</code>. This time you can call them whatever you want, as long as you don’t violate any naming conventions (such as including special characters, not beginning them with numbers etc.).</p>
<p>Once you have created additional pages you will need to tell the configuration file what to do with them. You do this by making the following changes to the <code>_site.yml</code> file:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">navbar<span class="op">:</span><span class="st">  </span>
<span class="st">  </span>title<span class="op">:</span><span class="st"> &quot;Websites with R Markdown&quot;</span> 
  left<span class="op">:</span><span class="st"> </span><span class="co"># alignment of the links on the navbar</span>
<span class="st">    </span><span class="op">-</span><span class="st"> </span>text<span class="op">:</span><span class="st"> &quot;Text&quot;</span> <span class="co"># text to appear on the Navbar at the top of the page</span>
      href<span class="op">:</span><span class="st"> </span>text.html <span class="co"># link to the new page</span></code></pre></div>
<p>The <code>text</code> is the text for a link to be created on the nav bar at the top of the page. This is the text that will be displayed to the user.</p>
<p>The <code>href</code> refers to the <code>.html</code> file that will be created when we render the site, not the <code>.Rmd</code> file that we currently have. It is the new web address to navigate to when the <code>text</code> has been clicked.</p>
<p>Remember each <code>.Rmd</code> generates a <code>.html</code> file when you render the site. The name stays the same, but te extension changes. This means you can pre-empt what will be created and you will be able to effectively link between them before rendering them.</p>
</div>
</div>
<div id="further-resources" class="section level1">
<h1>Further Resources</h1>
<div id="hosting" class="section level2">
<h2>Hosting</h2>
<p>You can host your website for free on <a href="https://github.com/">GitHub</a> by setting up a free account. An account here also comes with a whole host of other benefits, such as code sharing, collaborative coding, version control etc.</p>
<p>You can do this by setting up Git integration within R (see <a href="https://gupsych.github.io/acadweb/setup.html">here</a> for a short how-to) or by downloading <a href="https://desktop.github.com/">GitHub Desktop</a>.</p>
<p>There are also other webhosting services available (too many to count), to which you can upload your site.</p>
</div>
<div id="r-markdown-book" class="section level2">
<h2>R Markdown Book</h2>
<p>Remember that there is a free R Markdown book. <a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a> (2019), by Yihui Xie, J. J. Allaire and Garrett Grolemund.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
